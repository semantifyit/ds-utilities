(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.DsUtilities = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){
(function (process){(function (){
let{urlAlphabet:urlAlphabet}=_dereq_("./url-alphabet/index.cjs");if("production"!==process.env.NODE_ENV){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you don’t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.")}let random=e=>crypto.getRandomValues(new Uint8Array(e)),customRandom=(e,o,t)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*r*o/e.length);return()=>{let a="";for(;;){let d=t(n),u=n;for(;u--;)if((a+=e[d[u]&r]||"").length===o)return a}}},customAlphabet=(e,o)=>customRandom(e,o,random),nanoid=(e=21)=>{let o="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&t[e];o+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return o};module.exports={nanoid:nanoid,customAlphabet:customAlphabet,customRandom:customRandom,urlAlphabet:urlAlphabet,random:random};

}).call(this)}).call(this,_dereq_('_process'))
},{"./url-alphabet/index.cjs":2,"_process":3}],2:[function(_dereq_,module,exports){
let urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";module.exports={urlAlphabet:urlAlphabet};

},{}],3:[function(_dereq_,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],4:[function(_dereq_,module,exports){
const jhcpy=e=>JSON.parse(JSON.stringify(e)),getLanguageString=(e,r)=>{if(!Array.isArray(e))throw new Error("Given valuesArray parameter is not an array, as expected");if(r){const a=e.find(e=>e["@language"]===r);if(a&&a["@value"])return a["@value"]}else if(e[0]&&e[0]["@value"])return e[0]["@value"]},reorderNodeBasedOnNodeTermArray=(e,r)=>{const a=jhcpy(e);for(const r of Object.keys(e))delete e[r];for(const t of r){const r=t.term;void 0!==a[r]&&(e[r]=a[r])}for(const t of Object.keys(a)){void 0===r.find(e=>e.term===t)&&(e[t]=a[t])}},isObject=e=>e instanceof Object&&!(e instanceof Array);module.exports={jhcpy:jhcpy,getLanguageString:getLanguageString,reorderNodeBasedOnNodeTermArray:reorderNodeBasedOnNodeTermArray,isObject:isObject};

},{}],5:[function(_dereq_,module,exports){
const DsUtilitiesBase=_dereq_("./versions/DsUtilitiesBase.js"),DsUtilitiesV5=_dereq_("./versions/DsUtilitiesV5.js"),DsUtilitiesV7=_dereq_("./versions/DsUtilitiesV7.js"),myDsUtilitiesForCheck=new DsUtilitiesBase,availableDsUtilitiesVersions=["5.0","7.0"],getDsUtilitiesForDsSpecVersion=i=>{if(!availableDsUtilitiesVersions.includes(i))throw new Error("The given DS Specification Version "+i+" is unknown to DsUtilities.");switch(i){case"5.0":return new DsUtilitiesV5;case"7.0":return new DsUtilitiesV7}},getDsUtilitiesForDs=i=>{const s=myDsUtilitiesForCheck.getDsSpecificationVersion(i);return getDsUtilitiesForDsSpecVersion(s)};module.exports={getDsUtilitiesForDsSpecVersion:getDsUtilitiesForDsSpecVersion,getDsUtilitiesForDs:getDsUtilitiesForDs};

},{"./versions/DsUtilitiesBase.js":6,"./versions/DsUtilitiesV5.js":7,"./versions/DsUtilitiesV7.js":8}],6:[function(_dereq_,module,exports){
const fBase=_dereq_("./functions/functionsBase.js");class DsUtilitiesBase{constructor(){this.dsUtilitiesVersion=void 0,this.getDsSpecificationVersion=fBase.getDsSpecificationVersion,this.prettyPrintCompactedIRI=fBase.prettyPrintCompactedIRI,this.extractSdoVersionNumber=fBase.extractSdoVersionNumber}}module.exports=DsUtilitiesBase;

},{"./functions/functionsBase.js":11}],7:[function(_dereq_,module,exports){
const DsUtilitiesBase=_dereq_("./DsUtilitiesBase.js"),fV5=_dereq_("./functions/functionsV5.js");class DsUtilitiesV5 extends DsUtilitiesBase{constructor(){super(),this.dsUtilitiesVersion="5.0",this.getDsRootNode=fV5.getDsRootNodeV5,this.getDsStandardContext=fV5.getDsStandardContextV5,this.getDsId=fV5.getDsIdV5,this.getDsName=fV5.getDsNameV5,this.getDsDescription=fV5.getDsDescriptionV5,this.getDsAuthorName=fV5.getDsAuthorV5,this.getDsSchemaVersion=fV5.getDsSchemaVersionV5,this.getDsVersion=fV5.getDsVersionV5,this.getDsExternalVocabularies=fV5.getDsExternalVocabulariesV5,this.getDsTargetClasses=fV5.getDsTargetClassesV5}}module.exports=DsUtilitiesV5;

},{"./DsUtilitiesBase.js":6,"./functions/functionsV5.js":12}],8:[function(_dereq_,module,exports){
const DsUtilitiesBase=_dereq_("./DsUtilitiesBase.js"),fV7=_dereq_("./functions/functionsV7.js");class DsUtilitiesV7 extends DsUtilitiesBase{constructor(){super(),this.dsUtilitiesVersion="7.0",this.getDsRootNode=fV7.getDsRootNodeV7,this.getDsStandardContext=fV7.getDsStandardContextV7,this.getDsId=fV7.getDsIdV7,this.reorderDs=fV7.reorderDsV7,this.reorderDsNode=fV7.reorderDsNodeV7,this.generateInnerNodeId=fV7.generateInnerNodeIdV7,this.dsPathInit=fV7.dsPathInitV7,this.dsPathAddition=fV7.dsPathAdditionV7,this.dsPathGetNode=fV7.dsPathGetNodeV7,this.dsPathIdentifyNodeType=fV7.dsPathIdentifyNodeTypeV7,this.getDsName=fV7.getDsNameV7,this.getDsDescription=fV7.getDsDescriptionV7,this.getDsAuthorName=fV7.getDsAuthorNameV7,this.getDsSchemaVersion=fV7.getDsSchemaVersionV7,this.getDsVersion=fV7.getDsVersionV7,this.getDsExternalVocabularies=fV7.getDsExternalVocabulariesV7,this.getDsTargetClasses=fV7.getDsTargetClassesV7}}module.exports=DsUtilitiesV7;

},{"./DsUtilitiesBase.js":6,"./functions/functionsV7.js":13}],9:[function(_dereq_,module,exports){
const nodeTermsDsObject=[{term:"@context",required:!0,valueType:"object"},{term:"@graph",required:!0,valueType:"array"},{term:"@id",required:!0,valueType:"string"}],dsNodePropertyOrder=["@context","@graph","@id","@type","@language","@value","sh:targetClass","sh:targetObjectsOf","sh:targetSubjectsOf","sh:class","sh:datatype","schema:name","schema:description","schema:author","rdfs:comment","schema:version","schema:schemaVersion","ds:usedVocabularies","sh:closed","sh:order","sh:path","sh:minCount","sh:maxCount","sh:equals","sh:disjoint","sh:lessThan","sh:lessThanOrEquals","sh:defaultValue","ds:defaultLanguage","sh:minExclusive","sh:minInclusive","sh:maxExclusive","sh:maxInclusive","sh:minLength","sh:maxLength","sh:pattern","sh:flag","sh:languageIn","ds:hasLanguage","sh:uniqueLang","sh:in","sh:hasValue","sh:property","sh:or","sh:node"],standardContext={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#",schema:"http://schema.org/",ds:"http://vocab.sti2.at/ds/","ds:usedVocabularies":{"@id":"ds:usedVocabularies","@type":"@id"},"sh:targetClass":{"@id":"sh:targetClass","@type":"@id"},"sh:property":{"@id":"sh:property"},"sh:path":{"@id":"sh:path","@type":"@id"},"sh:datatype":{"@id":"sh:datatype","@type":"@id"},"sh:node":{"@id":"sh:node"},"sh:class":{"@id":"sh:class","@type":"@id"},"sh:or":{"@id":"sh:or","@container":"@list"},"sh:in":{"@id":"sh:in","@container":"@list"},"sh:languageIn":{"@id":"sh:languageIn","@container":"@list"},"sh:equals":{"@id":"sh:equals","@type":"@id"},"sh:disjoint":{"@id":"sh:disjoint","@type":"@id"},"sh:lessThan":{"@id":"sh:lessThan","@type":"@id"},"sh:lessThanOrEquals":{"@id":"sh:lessThanOrEquals","@type":"@id"}};module.exports={nodeTermsDsObject:nodeTermsDsObject,dsNodePropertyOrder:dsNodePropertyOrder,standardContext:standardContext};

},{}],10:[function(_dereq_,module,exports){
const nodeTermsDsObject=[{term:"@context",required:!0,valueType:"object"},{term:"@graph",required:!0,valueType:"array"}],nodeTermsContext=()=>{const e=[];for(const r of Object.keys(standardContext)){const a={term:r,required:!0};"string"==typeof standardContext[r]?(a.valueType="string",a.value=standardContext[r]):a.valueType="object",e.push(a)}return e},nodeTermsRootNode=[{term:"@id",required:!0,valueType:"string"},{term:"@type",required:!0,valueType:"string",value:"ds:DomainSpecification"},{term:"ds:subDSOf",required:!1,valueType:"string"},{term:"sh:targetClass",required:!1,valueType:"array"},{term:"sh:targetObjectsOf",required:!1,valueType:"string"},{term:"sh:targetSubjectsOf",required:!1,valueType:"string"},{term:"sh:class",required:!1,valueType:"array"},{term:"schema:name",required:!1,valueType:"array"},{term:"schema:description",required:!1,valueType:"array"},{term:"schema:author",required:!1,valueType:"object"},{term:"ds:version",required:!0,valueType:"string"},{term:"schema:version",required:!1,valueType:"string"},{term:"schema:schemaVersion",required:!0,valueType:"string"},{term:"ds:usedVocabulary",required:!1,valueType:"array"},{term:"sh:closed",required:!1,valueType:"boolean"},{term:"sh:property",required:!0,valueType:"array"}],nodeTermsPropertyNode=[{term:"@type",required:!0,valueType:"string",value:"sh:PropertyShape"},{term:"sh:order",required:!1,valueType:"integer"},{term:"sh:path",required:!0,valueType:"string"},{term:"rdfs:comment",required:!1,valueType:"array"},{term:"sh:minCount",required:!1,valueType:"integer"},{term:"sh:maxCount",required:!1,valueType:"integer"},{term:"sh:equals",required:!1,valueType:"array"},{term:"sh:disjoint",required:!1,valueType:"array"},{term:"sh:lessThan",required:!1,valueType:"array"},{term:"sh:lessThanOrEquals",required:!1,valueType:"array"},{term:"sh:or",required:!0,valueType:"array"}],nodeTermsClassNode=[{term:"@id",required:!0,valueType:"string"},{term:"@type",required:!0,valueType:"string",value:"sh:NodeShape"},{term:"sh:class",required:!0,valueType:"array"},{term:"sh:closed",required:!1,valueType:"boolean"},{term:"sh:property",required:!1,valueType:"array"}],nodeTermsEnumerationNode=[{term:"@id",required:!0,valueType:"string"},{term:"@type",required:!0,valueType:"string",value:"sh:NodeShape"},{term:"sh:class",required:!0,valueType:"array"},{term:"sh:in",required:!1,valueType:"array"}],nodeTermsDataTypeNode=[{term:"sh:datatype",required:!0,valueType:"string"},{term:"sh:defaultValue",required:!1,valueType:"any"},{term:"ds:defaultLanguage",required:!1,valueType:"string"},{term:"sh:minExclusive",required:!1,valueType:"any"},{term:"sh:minInclusive",required:!1,valueType:"any"},{term:"sh:maxExclusive",required:!1,valueType:"any"},{term:"sh:maxInclusive",required:!1,valueType:"any"},{term:"sh:minLength",required:!1,valueType:"integer"},{term:"sh:maxLength",required:!1,valueType:"integer"},{term:"sh:pattern",required:!1,valueType:"array"},{term:"sh:flag",required:!1,valueType:"string"},{term:"sh:languageIn",required:!1,valueType:"array"},{term:"ds:hasLanguage",required:!1,valueType:"array"},{term:"sh:uniqueLang",required:!1,valueType:"boolean"},{term:"sh:in",required:!1,valueType:"array"},{term:"sh:hasValue",required:!1,valueType:"array"}],nodeTermsLanguageTaggedValue=[{term:"@language",required:!0,valueType:"string"},{term:"@value",required:!0,valueType:"string"}],standardContext={ds:"https://vocab.sti2.at/ds/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#","ds:subDSOf":{"@type":"@id"},"ds:usedVocabulary":{"@type":"@id"},"sh:targetClass":{"@type":"@id"},"sh:targetObjectsOf":{"@type":"@id"},"sh:targetSubjectsOf":{"@type":"@id"},"sh:class":{"@type":"@id"},"sh:path":{"@type":"@id"},"sh:datatype":{"@type":"@id"},"sh:equals":{"@type":"@id"},"sh:disjoint":{"@type":"@id"},"sh:lessThan":{"@type":"@id"},"sh:lessThanOrEquals":{"@type":"@id"},"sh:in":{"@container":"@list"},"sh:languageIn":{"@container":"@list"},"sh:or":{"@container":"@list"}};module.exports={nodeTermsDsObject:nodeTermsDsObject,nodeTermsContext:nodeTermsContext,nodeTermsRootNode:nodeTermsRootNode,nodeTermsPropertyNode:nodeTermsPropertyNode,nodeTermsClassNode:nodeTermsClassNode,nodeTermsEnumerationNode:nodeTermsEnumerationNode,nodeTermsDataTypeNode:nodeTermsDataTypeNode,nodeTermsLanguageTaggedValue:nodeTermsLanguageTaggedValue,standardContext:standardContext};

},{}],11:[function(_dereq_,module,exports){
const getDsSpecificationVersion=e=>{if(!Array.isArray(e["@graph"]))throw new Error("The given DS has no @graph array, which is expected for any DS version.");try{const r=e["@graph"].find(e=>"ds:DomainSpecification"===e["@type"]);if(r)return r["ds:version"]}catch(e){}try{if(e["@graph"].find(e=>Array.isArray(e["@type"])&&e["@type"].includes("sh:NodeShape")&&e["@type"].includes("schema:CreativeWork")))return"5.0"}catch(e){}throw new Error("The DS specification version for the given DS could not been determined - the DS has an unexpected structure.")},prettyPrintCompactedIRI=e=>{if(Array.isArray(e)){let r="";for(let t=0;t<e.length;t++)r+=prettyPrintCompactedIRI(e[t]),t+1<e.length&&(r+=" + ");return r}return e.startsWith("schema:")?e.substring("schema:".length):e},extractSdoVersionNumber=e=>{if(e.includes("schema.org/docs/")){let r=/.*schema\.org\/docs\/releases\.html#v([0-9.]+)(\/)?/g.exec(e);if(r&&r[1])return r[1]}else if(e.includes("schema.org/version/")){let r=/.*schema\.org\/version\/([0-9.]+)(\/)?/g.exec(e);if(r&&r[1])return r[1]}throw new Error("The given url did not fit the expected format for a schema.org version url.")};module.exports={getDsSpecificationVersion:getDsSpecificationVersion,prettyPrintCompactedIRI:prettyPrintCompactedIRI,extractSdoVersionNumber:extractSdoVersionNumber};

},{}],12:[function(_dereq_,module,exports){
const helper=_dereq_("./../../helperFunctions.js"),data=_dereq_("./../data/dataV5.js"),{extractSdoVersionNumber:extractSdoVersionNumber}=_dereq_("./functionsBase.js"),getDsRootNodeV5=e=>{if(!e["@graph"])throw new Error("The given DS has no @graph array, which is mandatory for a DS in DS-V5 format.");const t=e["@graph"].find(e=>Array.isArray(e["@type"])&&e["@type"].includes("sh:NodeShape")&&e["@type"].includes("schema:CreativeWork"));if(!t)throw new Error("The given DS has no identifiable root node in DS-V5 format.");return t},getDsStandardContextV5=()=>helper.jhcpy(data.standardContext),getDsIdV5=e=>{if(!e["@id"])throw new Error("The given DS has no @id, which is mandatory for a DS in DS-V5 format.");return e["@id"]},getDsNameV5=e=>{const t=getDsRootNodeV5(e);if(t["schema:name"])return t["schema:name"]},getDsDescriptionV5=e=>{const t=getDsRootNodeV5(e);if(t["schema:description"])return t["schema:description"]},getDsAuthorV5=e=>{const t=getDsRootNodeV5(e);if(t["schema:author"]&&t["schema:author"]["schema:name"])return t["schema:author"]["schema:name"]},getDsSchemaVersionV5=e=>{const t=getDsRootNodeV5(e);if(!t["schema:schemaVersion"])throw new Error("The given DS has no schema:schemaVersion for its root node, which is mandatory for a DS in DS-V5 format.");return extractSdoVersionNumber(t["schema:schemaVersion"])},getDsVersionV5=e=>{const t=getDsRootNodeV5(e);if(t["schema:version"])return t["schema:version"]},getDsExternalVocabulariesV5=e=>{const t=getDsRootNodeV5(e);return t["ds:usedVocabularies"]?t["ds:usedVocabularies"]:[]},getDsTargetClassesV5=e=>{const t=getDsRootNodeV5(e);if(!t["sh:targetClass"])throw new Error("The given DS has no sh:targetClass in its root node, which is mandatory for a DS in DS-V5 format.");return Array.isArray(t["sh:targetClass"])?t["sh:targetClass"]:[t["sh:targetClass"]]};module.exports={getDsRootNodeV5:getDsRootNodeV5,getDsStandardContextV5:getDsStandardContextV5,getDsIdV5:getDsIdV5,getDsNameV5:getDsNameV5,getDsDescriptionV5:getDsDescriptionV5,getDsAuthorV5:getDsAuthorV5,getDsSchemaVersionV5:getDsSchemaVersionV5,getDsVersionV5:getDsVersionV5,getDsExternalVocabulariesV5:getDsExternalVocabulariesV5,getDsTargetClassesV5:getDsTargetClassesV5};

},{"./../../helperFunctions.js":4,"./../data/dataV5.js":9,"./functionsBase.js":11}],13:[function(_dereq_,module,exports){
const helper=_dereq_("./../../helperFunctions.js"),data=_dereq_("./../data/dataV7.js"),{customAlphabet:customAlphabet}=_dereq_("nanoid"),{isObject:isObject}=_dereq_("../../helperFunctions.js"),getDsRootNodeV7=e=>{if(!e["@graph"])throw new Error("The given DS has no @graph array, which is mandatory for a DS in DS-V7 format.");const t=e["@graph"].find(e=>"ds:DomainSpecification"===e["@type"]);if(!t)throw new Error("The given DS has no identifiable root node in DS-V7 format.");return t},getDsStandardContextV7=()=>helper.jhcpy(data.standardContext),getDsIdV7=e=>{const t=getDsRootNodeV7(e);if(!t["@id"])throw new Error("The given DS has no @id for its root node, which is mandatory for a DS in DS-V7 format.");return t["@id"]},reorderDsV7=e=>{if(!isObject(e))throw new Error("The given input was not an object, as required.");const t=e=>{for(const t of e)helper.reorderNodeBasedOnNodeTermArray(t,data.nodeTermsLanguageTaggedValue)},r=e=>{if(reorderDsNodeV7(e),e["schema:name"]&&t(e["schema:name"]),e["schema:description"]&&t(e["schema:description"]),e["sh:property"])for(const t of e["sh:property"])o(t)},o=e=>{reorderDsNodeV7(e),e["rdfs:comment"]&&t(e["rdfs:comment"]);for(const t of e["sh:or"])reorderDsNodeV7(t),t["sh:node"]&&r(t["sh:node"])};helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsDsObject),helper.reorderNodeBasedOnNodeTermArray(e["@context"],data.nodeTermsContext());const n=e["@graph"].findIndex(e=>"ds:DomainSpecification"===e["@type"]);0!==n&&(e["@graph"]=[e["@graph"][n],...e["@graph"].slice(0,n),...e["@graph"].slice(n+1)]);for(const t of e["@graph"])r(t)},reorderDsNodeV7=e=>{if(!isObject(e))throw new Error("The given input was not an object, as required.");if(e["@type"])switch(e["@type"]){case"ds:DomainSpecification":helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsRootNode);break;case"sh:PropertyShape":helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsPropertyNode);break;case"sh:NodeShape":e["sh:in"]?helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsEnumerationNode):helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsClassNode)}else e["@context"]?helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsDsObject):e.ds&&e.schema&&e.sh?helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsContext()):e["sh:datatype"]?helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsDataTypeNode):e["sh:node"]||e["@value"]&&helper.reorderNodeBasedOnNodeTermArray(e,data.nodeTermsLanguageTaggedValue)},generateInnerNodeIdV7=e=>{let t,r;e&&(t=getDsIdV7(e));const o=customAlphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",5);do{r=o()}while(void 0!==e&&JSON.stringify(e).includes(t+"#"+r));return r},NODE_TYPE_ROOT="RootNode",NODE_TYPE_PROPERTY="Property",NODE_TYPE_CLASS="Class",NODE_TYPE_ENUMERATION="Enumeration",NODE_TYPE_DATATYPE="DataType",NODE_TYPE_REF_ROOT="RootReference",NODE_TYPE_REF_INTERNAL="InternalReference",NODE_TYPE_REF_EXTERNAL="ExternalReference",NODE_TYPE_REF_INTERNAL_EXTERNAL="InternalExternalReference",NODE_TYPE_DEF_INTERNAL="InternalReferenceDefinition",NODE_TYPE_DEF_EXTERNAL="ExternalReferenceDefinition",NODE_TYPE_DEF_INTERNAL_EXTERNAL="InternalExternalReferenceDefinition",dsPathInitV7=(e="RootNode",t)=>{switch(e){case"RootNode":return"$";case NODE_TYPE_DEF_INTERNAL:return"#"+t.split("#")[1];case NODE_TYPE_DEF_EXTERNAL:case NODE_TYPE_DEF_INTERNAL_EXTERNAL:return t.split("/")[(t.match(/\//g)||[]).length];default:throw new Error("Unknown node type to initialize a DS Path: "+e)}},dsPathAdditionV7=(e,t,r)=>"Property"===t?e+"."+r:"DataType"===t?e+"/"+r:"Class"===t||"Enumeration"===t?e+"/"+r.join(","):"RootReference"===t?e+"/@$":"InternalReference"===t?e+"/@#"+r.split("#")[1]:"ExternalReference"===t?e+"/@"+r.split("/")[(r.match(/\//g)||[]).length]:"InternalExternalReference"===t?e+"/@"+r.split("/")[(r.match(/\//g)||[]).length]:void 0,dsPathGetNodeV7=(e,t)=>{function r(e,t,o){const n=t.split("/"),s=e.find(e=>e["sh:path"]===n[0]);if(!s)throw new Error("Could not find a fitting property-node for path-token "+n[0]);return 1===n.length?s:function(e,t,o){const n=getDsRootNodeV7(o),s=t.split("."),a=s[0];let d,i;if(a.startsWith("@")?"@$"===a?(d=e.find(e=>e["sh:node"]&&e["sh:node"]["@id"]===n["@id"]),i=n):a.startsWith("@#")?(d=e.find(e=>e["sh:node"]&&e["sh:node"]["@id"]===n["@id"]+a.substring(1)),i=o["@graph"].find(e=>e["@id"]===d["sh:node"]["@id"])):(d=e.find(e=>e["sh:node"]&&e["sh:node"]["@id"].endsWith(a.substring(1))),i=o["@graph"].find(e=>e["@id"]===d["sh:node"]["@id"])):d=e.find(e=>e["sh:datatype"]===s[0]||e["sh:node"]&&e["sh:node"]["sh:class"]&&function(e,t){return!e.find(e=>!t.includes(e))&&!t.find(t=>!e.includes(t))}(e["sh:node"]["sh:class"],s[0].split(","))||e["sh:node"]&&e["sh:node"]["@id"].endsWith(s[0].substring(1))),!d)throw new Error("Could not find a fitting range-node for path-token "+s[0]);return 1===s.length?d["sh:node"]?d["sh:node"]:d:r(i?i["sh:property"]:d["sh:node"]["sh:property"],t.substring(s[0].length+1),o)}(s["sh:or"],t.substring(n[0].length+1),o)}if("@context"===t){if(!e["@context"])throw new Error("The given DS has no @context, which is mandatory for a DS in DS-V7 format.");return e["@context"]}if(t.startsWith("$")){const o=getDsRootNodeV7(e);return"$"===t?o:r(o["sh:property"],t.substring(2),e)}{const o=t.split("."),n=e["@graph"].find(e=>e["@id"].endsWith(o[0]));if(!n)throw new Error("Could not find a fitting reference definition for path-token "+o[0]);return 1===o.length?n:r(n["sh:property"],t.substring(o[0].length+1),e)}},dsPathIdentifyNodeTypeV7=(e,t)=>{const r=getDsRootNodeV7(t);return e["@id"]&&1===Object.keys(e).length?e["@id"]===r["@id"]?"RootReference":e["@id"].startsWith(r["@id"])?"InternalReference":"#"===e["@id"].charAt(e["@id"].length-6)?"InternalExternalReference":"ExternalReference":"ds:DomainSpecification"===e["@type"]?"RootNode":"sh:NodeShape"===e["@type"]&&void 0!==t["@graph"].find(t=>t["@id"]===e["@id"])?e["@id"].startsWith(r["@id"])?NODE_TYPE_DEF_INTERNAL:"#"===e["@id"].charAt(e["@id"].length-6)?NODE_TYPE_DEF_INTERNAL_EXTERNAL:NODE_TYPE_DEF_EXTERNAL:"sh:PropertyShape"===e["@type"]?"Property":void 0!==e["sh:datatype"]?"DataType":"sh:NodeShape"===e["@type"]&&void 0!==e["sh:in"]?"Enumeration":"sh:NodeShape"===e["@type"]&&void 0!==e["sh:property"]?"Class":"sh:NodeShape"===e["@type"]&&void 0!==e["sh:class"]?"Class":void 0},getDsNameV7=(e,t)=>{const r=getDsRootNodeV7(e);if(r["schema:name"])return helper.getLanguageString(r["schema:name"],t)},getDsDescriptionV7=(e,t)=>{const r=getDsRootNodeV7(e);if(r["schema:description"])return helper.getLanguageString(r["schema:description"],t)},getDsAuthorNameV7=e=>{const t=getDsRootNodeV7(e);if(t["schema:author"]&&t["schema:author"]["schema:name"])return t["schema:author"]["schema:name"]},getDsSchemaVersionV7=e=>{const t=getDsRootNodeV7(e);if(!t["schema:schemaVersion"])throw new Error("The given DS has no schema:schemaVersion for its root node, which is mandatory for a DS in DS-V7 format.");return t["schema:schemaVersion"]},getDsVersionV7=e=>{const t=getDsRootNodeV7(e);if(t["schema:version"])return t["schema:version"]},getDsExternalVocabulariesV7=e=>{const t=getDsRootNodeV7(e);return t["ds:usedVocabulary"]?t["ds:usedVocabulary"]:[]},getDsTargetClassesV7=e=>{const t=getDsRootNodeV7(e);return t["sh:targetClass"]?t["sh:targetClass"]:[]};module.exports={getDsRootNodeV7:getDsRootNodeV7,getDsStandardContextV7:getDsStandardContextV7,getDsIdV7:getDsIdV7,reorderDsV7:reorderDsV7,reorderDsNodeV7:reorderDsNodeV7,generateInnerNodeIdV7:generateInnerNodeIdV7,dsPathInitV7:dsPathInitV7,dsPathAdditionV7:dsPathAdditionV7,dsPathGetNodeV7:dsPathGetNodeV7,dsPathIdentifyNodeTypeV7:dsPathIdentifyNodeTypeV7,getDsNameV7:getDsNameV7,getDsDescriptionV7:getDsDescriptionV7,getDsAuthorNameV7:getDsAuthorNameV7,getDsSchemaVersionV7:getDsSchemaVersionV7,getDsVersionV7:getDsVersionV7,getDsExternalVocabulariesV7:getDsExternalVocabulariesV7,getDsTargetClassesV7:getDsTargetClassesV7};

},{"../../helperFunctions.js":4,"./../../helperFunctions.js":4,"./../data/dataV7.js":10,"nanoid":1}]},{},[5])(5)
});
